(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".mapdiv[data-v-c6aa3e71]{width:100%;height:100%}.advanced-marker-wrapper{display:none}.mapdiv .advanced-marker-wrapper{display:inline-block}.custom-control-wrapper[data-v-ae91c15f]{display:none}.mapdiv .custom-control-wrapper[data-v-ae91c15f]{display:inline-block}.info-window-wrapper[data-v-0e669f85]{display:none}.mapdiv .info-window-wrapper[data-v-0e669f85]{display:inline-block}.custom-marker-wrapper[data-v-4b2eafc1]{display:none}.mapdiv .custom-marker-wrapper[data-v-4b2eafc1]{display:inline-block}")),document.head.appendChild(a)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
(function(_,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],l):(_=typeof globalThis<"u"?globalThis:_||self,l(_.Vue3GoogleMap={},_.Vue))})(this,function(_,l){"use strict";var Or=Object.defineProperty;var Pr=(_,l,M)=>l in _?Or(_,l,{enumerable:!0,configurable:!0,writable:!0,value:M}):_[l]=M;var pe=(_,l,M)=>(Pr(_,typeof l!="symbol"?l+"":l,M),M);const M=Symbol("map"),b=Symbol("api"),X=Symbol("marker"),Q=Symbol("markerCluster"),z=Symbol("CustomMarker"),ee=Symbol("mapTilesLoaded"),B=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];function Ue(n,e){n.src=e}const Ze=n=>{var e,t,r,o="The Google Maps JavaScript API",s="google",i="importLibrary",c="__ib__",a=document,d=window,f=d[s]||(d[s]={}),u=f.maps||(f.maps={}),m=new Set,g=new URLSearchParams,h=()=>e||(e=new Promise(async(p,y)=>{var v;await(t=a.createElement("script")),g.set("libraries",[...m]+"");for(r in n)g.set(r.replace(/[A-Z]/g,w=>"_"+w[0].toLowerCase()),n[r]);g.set("callback",s+".maps."+c),Ue(t,"https://maps.googleapis.com/maps/api/js?"+g),u[c]=p,t.onerror=()=>e=y(Error(o+" could not load.")),t.nonce=((v=a.querySelector("script[nonce]"))==null?void 0:v.nonce)||"",a.head.append(t)}));u[i]?console.warn(o+" only loads once. Ignoring:",n):u[i]=(p,...y)=>m.add(p)&&h().then(()=>u[i](p,...y))},Ge=n=>`The setOptions() function should only be called once. The options passed to the additional call (${JSON.stringify(n)}) will be ignored.`,Fe=n=>`The google.maps.importLibrary() function is already defined, and @googlemaps/js-api-loader will use the existing function instead of overwriting it. The options passed to setOptions (${JSON.stringify(n)}) will be ignored.`,ze="No options were set before calling importLibrary. Make sure to configure the loader using setOptions().",We="There already is a script loading the Google Maps JavaScript API, and no google.maps.importLibrary function is defined. @googlemaps/js-api-loader will proceed to bootstrap the API with the specified options, but the existing script might cause problems using the API. Make sure to remove the script loading the API.",te=process.env.NODE_ENV!=="production"?n=>{console.warn(`[@googlemaps/js-api-loader] ${n}`)}:()=>{},He=process.env.NODE_ENV!=="production"?n=>{console.info(`[@googlemaps/js-api-loader] ${n}`)}:()=>{};let re=!1;function Ke(n){if(re){te(Ge(n));return}Je(n),re=!0}async function Ye(n){var e,t;if(re||te(ze),!((t=(e=window==null?void 0:window.google)==null?void 0:e.maps)!=null&&t.importLibrary))throw new Error("google.maps.importLibrary is not installed.");return await google.maps.importLibrary(n)}function Je(n){var t,r;const e=!!((r=(t=window.google)==null?void 0:t.maps)!=null&&r.importLibrary);e?He(Fe(n)):process.env.NODE_ENV!=="production"&&document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]')&&te(We),e||Ze(n)}function Xe(n){return class extends n.OverlayView{constructor(r){super();pe(this,"element");pe(this,"opts");const{element:o,...s}=r;this.element=o,this.opts=s,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof n.LatLng?this.opts.position:new n.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const r=this.element;return r.style.display!=="none"&&r.style.visibility!=="hidden"&&(r.style.opacity===""||Number(r.style.opacity)>.01)}onAdd(){if(!this.element)return;const r=this.getPanes();r&&r.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const r=this.getProjection(),o=r==null?void 0:r.fromLatLngToDivPixel(this.getPosition());if(o){this.element.style.position="absolute";let s,i;switch(this.opts.anchorPoint){case"TOP_CENTER":s="-50%",i="-100%";break;case"BOTTOM_CENTER":s="-50%",i="0";break;case"LEFT_CENTER":s="-100%",i="-50%";break;case"RIGHT_CENTER":s="0",i="-50%";break;case"TOP_LEFT":s="-100%",i="-100%";break;case"TOP_RIGHT":s="0",i="-100%";break;case"BOTTOM_LEFT":s="-100%",i="0";break;case"BOTTOM_RIGHT":s="0",i="0";break;default:s="-50%",i="-50%"}const c=o.x+(this.opts.offsetX||0)+"px",a=o.y+(this.opts.offsetY||0)+"px";this.element.style.transform=`translateX(${s}) translateX(${c}) translateY(${i}) translateY(${a})`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(r){const{element:o,...s}=r;this.element=o,this.opts=s,this.draw()}}}let fe=!1;const me=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],Qe=l.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places","marker"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},colorScheme:{type:String,required:!1},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},cameraControl:{type:Boolean,required:!1,default:void 0},cameraControlPosition:{type:String,required:!1}},emits:me,setup(n,{emit:e}){const t=l.ref(),r=l.ref(!1),o=l.ref(),s=l.ref(),i=l.ref(!1);l.provide(M,o),l.provide(b,s),l.provide(ee,i);const c=()=>{const u={...n};Object.keys(u).forEach(p=>{u[p]===void 0&&delete u[p]});const g=p=>{var y;return p?{position:(y=s.value)==null?void 0:y.ControlPosition[p]}:{}},h={scaleControlOptions:n.scaleControlStyle?{style:n.scaleControlStyle}:{},panControlOptions:g(n.panControlPosition),zoomControlOptions:g(n.zoomControlPosition),rotateControlOptions:g(n.rotateControlPosition),streetViewControlOptions:g(n.streetViewControlPosition),fullscreenControlOptions:g(n.fullscreenControlPosition),cameraControlOptions:g(n.cameraControlPosition),disableDefaultUI:n.disableDefaultUi};return{...u,...h}},a=l.watch([s,o],([u,m])=>{const g=u,h=m;g&&h&&(g.event.addListenerOnce(h,"tilesloaded",()=>{i.value=!0}),setTimeout(a,0))},{immediate:!0}),d=()=>{const{apiKey:u,region:m,version:g,language:h,libraries:p}=n;Ke({key:u,region:m,v:g,language:h,libraries:p})},f=u=>{const m=u?u.maps:google.maps;s.value=l.markRaw(m),o.value=l.markRaw(new m.Map(t.value,c()));const g=Xe(s.value);s.value[z]=g,me.forEach(p=>{var y;(y=o.value)==null||y.addListener(p,v=>e(p,v))}),r.value=!0;const h=Object.keys(n).filter(p=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom"].includes(p)).map(p=>l.toRef(n,p));l.watch([()=>n.center,()=>n.zoom,...h],([p,y],[v,w])=>{var C,j,F;const{center:E,zoom:R,...O}=c();(C=o.value)==null||C.setOptions(O),y!==void 0&&y!==w&&((j=o.value)==null||j.setZoom(y));const S=!v||p.lng!==v.lng||p.lat!==v.lat;p&&S&&((F=o.value)==null||F.panTo(p))})};return l.onMounted(()=>{if(n.apiPromise&&n.apiPromise instanceof Promise)n.apiPromise.then(f);else{fe||(d(),fe=!0);const u=n.libraries&&n.libraries.length>0?n.libraries:["maps","marker"];Promise.all(u.map(m=>Ye(m))).then(()=>f())}}),l.onBeforeUnmount(()=>{var u;i.value=!1,o.value&&((u=s.value)==null||u.event.clearInstanceListeners(o.value))}),{mapRef:t,ready:r,map:o,api:s,mapTilesLoaded:i}}}),Sr="",$=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},et={ref:"mapRef",class:"mapdiv"};function tt(n,e,t,r,o,s){return l.openBlock(),l.createElementBlock("div",null,[l.createElementVNode("div",et,null,512),l.renderSlot(n.$slots,"default",l.normalizeProps(l.guardReactiveProps({ready:n.ready,map:n.map,api:n.api,mapTilesLoaded:n.mapTilesLoaded})),void 0,!0)])}const rt=$(Qe,[["render",tt],["__scopeId","data-v-c6aa3e71"]]);function nt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ot=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!n(e[i],t[i]))return!1}return!0}return e!==e&&t!==t};const D=nt(ot),he=["click","drag","dragend","dragstart","gmp-click"],st=l.defineComponent({name:"AdvancedMarker",props:{options:{type:Object,required:!0},pinOptions:{type:Object,required:!1}},emits:he,setup(n,{emit:e,expose:t,slots:r}){const o=l.ref(),s=l.computed(()=>{var g;return(g=r.content)==null?void 0:g.call(r).some(h=>h.type!==l.Comment)}),i=l.toRef(n,"options"),c=l.toRef(n,"pinOptions"),a=l.ref(),d=l.inject(M,l.ref()),f=l.inject(b,l.ref()),u=l.inject(Q,l.ref()),m=l.computed(()=>!!(u.value&&f.value&&a.value instanceof google.maps.marker.AdvancedMarkerElement));return l.watch([d,i,c,o],async(g,[h,p,y,v])=>{var C,j,F;const w=!D(i.value,p)||!D(c.value,y),E=o.value!==v,R=w||E||d.value!==h;if(!d.value||!f.value||!R||s.value&&!o.value)return;const{AdvancedMarkerElement:O,PinElement:S}=f.value.marker;if(a.value){const{map:ue,content:J,...de}=i.value;Object.assign(a.value,{content:s.value?o.value:c.value?new S(c.value).element:J,...de}),m.value&&((C=u.value)==null||C.removeMarker(a.value),(j=u.value)==null||j.addMarker(a.value))}else s.value?i.value.content=o.value:c.value&&(i.value.content=new S(c.value).element),a.value=l.markRaw(new O(i.value)),m.value?(F=u.value)==null||F.addMarker(a.value):a.value.map=d.value,he.forEach(ue=>{var J;(J=a.value)==null||J.addListener(ue,de=>e(ue,de))})},{immediate:!0,flush:"post"}),l.onBeforeUnmount(()=>{var g,h;a.value&&((g=f.value)==null||g.event.clearInstanceListeners(a.value),m.value?(h=u.value)==null||h.removeMarker(a.value):a.value.map=null)}),l.provide(X,a),t({marker:a}),{hasCustomSlotContent:s,markerRef:o}}}),br="",at={key:0,class:"advanced-marker-wrapper"};function it(n,e,t,r,o,s){return l.openBlock(),l.createElementBlock(l.Fragment,null,[n.hasCustomSlotContent?(l.openBlock(),l.createElementBlock("div",at,[l.createElementVNode("div",l.mergeProps({ref:"markerRef"},n.$attrs),[l.renderSlot(n.$slots,"content")],16)])):l.createCommentVNode("v-if",!0),l.renderSlot(n.$slots,"default")],64)}const lt=$(st,[["render",it]]),ge=n=>n==="Marker",ye=n=>n===z,N=(n,e,t,r)=>{const o=l.ref(),s=l.inject(M,l.ref()),i=l.inject(b,l.ref()),c=l.inject(Q,l.ref()),a=l.computed(()=>!!(c.value&&i.value&&(o.value instanceof i.value.Marker||o.value instanceof i.value[z])));return l.watch([s,t],(d,[f,u])=>{var g,h,p;const m=!D(t.value,u)||s.value!==f;if(!(!s.value||!i.value||!m))if(o.value)o.value.setOptions(t.value),a.value&&((g=c.value)==null||g.removeMarker(o.value),(h=c.value)==null||h.addMarker(o.value));else{if(ge(n))o.value=l.markRaw(new i.value[n](t.value));else if(ye(n)){const y=t.value;y.element&&(o.value=l.markRaw(new i.value[n](y)))}else o.value=l.markRaw(new i.value[n]({...t.value,map:s.value}));o.value&&(a.value?(p=c.value)==null||p.addMarker(o.value):(ge(n)||ye(n))&&o.value.setMap(s.value)),e.forEach(y=>{var v;(v=o.value)==null||v.addListener(y,w=>r(y,w))})}},{immediate:!0,flush:"post"}),l.onBeforeUnmount(()=>{var d,f;o.value&&((d=i.value)==null||d.event.clearInstanceListeners(o.value),a.value?(f=c.value)==null||f.removeMarker(o.value):o.value.setMap(null))}),o},ve=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],ct=l.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:ve,setup(n,{emit:e,expose:t,slots:r}){const o=l.toRef(n,"options"),s=N("Marker",ve,o,e);return l.provide(X,s),t({marker:s}),()=>{var i;return(i=r.default)==null?void 0:i.call(r)}}}),ut=l.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:B,setup(n,{emit:e}){const t=l.toRef(n,"options");return{polyline:N("Polyline",B,t,e)}},render:()=>null}),dt=l.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:B,setup(n,{emit:e}){const t=l.toRef(n,"options");return{polygon:N("Polygon",B,t,e)}},render:()=>null}),we=B.concat(["bounds_changed"]),pt=l.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:we,setup(n,{emit:e}){const t=l.toRef(n,"options");return{rectangle:N("Rectangle",we,t,e)}},render:()=>null}),_e=B.concat(["center_changed","radius_changed"]),ft=l.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:_e,setup(n,{emit:e}){const t=l.toRef(n,"options");return{circle:N("Circle",_e,t,e)}},render:()=>null}),mt=l.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(n,{emit:e}){const t=l.ref(null),r=l.inject(M,l.ref()),o=l.inject(b,l.ref()),s=l.inject(ee,l.ref(!1)),i=l.watch([s,o,t],([d,f,u])=>{f&&d&&u&&(c(n.position),e("content:loaded"),setTimeout(i,0))},{immediate:!0}),c=d=>{if(r.value&&o.value&&t.value){const f=o.value.ControlPosition[d];t.value.index=n.index,r.value.controls[f].push(t.value)}},a=d=>{if(r.value&&o.value){let f=null;const u=o.value.ControlPosition[d];r.value.controls[u].forEach((m,g)=>{m===t.value&&(f=g)}),f!==null&&r.value.controls[u].removeAt(f)}};return l.onBeforeUnmount(()=>a(n.position)),l.watch(()=>n.position,(d,f)=>{a(f),c(d)}),l.watch(()=>n.index,d=>{t.value&&(t.value.index=d)}),{controlRef:t}}}),Ar="",ht={ref:"controlRef",class:"custom-control-wrapper"};function gt(n,e,t,r,o,s){return l.openBlock(),l.createElementBlock(l.Fragment,null,[l.createCommentVNode(`
    v-show must be used instead of v-if otherwise there
    would be no rendered content pushed to the map controls
  `),l.createElementVNode("div",ht,[l.renderSlot(n.$slots,"default",{},void 0,!0)],512)],2112)}const yt=$(mt,[["render",gt],["__scopeId","data-v-ae91c15f"]]),Ee=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"],vt=l.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...Ee,"update:modelValue"],setup(n,{slots:e,emit:t,expose:r}){const o=l.ref(),s=l.ref(),i=l.inject(M,l.ref()),c=l.inject(b,l.ref()),a=l.inject(X,l.ref());let d,f=n.modelValue;const u=l.computed(()=>{var p;return(p=e.default)==null?void 0:p.call(e).some(y=>y.type!==l.Comment)}),m=p=>{f=p,t("update:modelValue",p)},g=p=>{o.value&&(o.value.open({map:i.value,anchor:a.value,...p}),m(!0))},h=()=>{o.value&&(o.value.close(),m(!1))};return l.onMounted(()=>{l.watch([i,()=>n.options],([p,y],[v,w])=>{var R;const E=!D(y,w)||i.value!==v;i.value&&c.value&&E&&(o.value?(o.value.setOptions({...y,content:u.value?s.value:y.content}),a.value||g()):(o.value=l.markRaw(new c.value.InfoWindow({...y,content:u.value?s.value:y.content})),a.value&&(d=a.value.addListener("click",()=>{g()})),(!a.value||f)&&g(),Ee.forEach(O=>{var S;(S=o.value)==null||S.addListener(O,C=>t(O,C))}),(R=o.value)==null||R.addListener("closeclick",()=>m(!1))))},{immediate:!0,flush:"post"}),l.watch(()=>n.modelValue,p=>{p!==f&&(p?g():h())})}),l.onBeforeUnmount(()=>{var p;d&&d.remove(),o.value&&((p=c.value)==null||p.event.clearInstanceListeners(o.value),h())}),r({infoWindow:o,open:g,close:h}),{infoWindow:o,infoWindowRef:s,hasSlotContent:u,open:g,close:h}}}),qr="",wt={key:0,class:"info-window-wrapper"};function _t(n,e,t,r,o,s){return n.hasSlotContent?(l.openBlock(),l.createElementBlock("div",wt,[l.createElementVNode("div",l.mergeProps({ref:"infoWindowRef"},n.$attrs),[l.renderSlot(n.$slots,"default",{},void 0,!0)],16)])):l.createCommentVNode("v-if",!0)}const Et=$(vt,[["render",_t],["__scopeId","data-v-0e669f85"]]);var kt=Object.getOwnPropertyNames,Ct=Object.getOwnPropertySymbols,Mt=Object.prototype.hasOwnProperty;function ke(n,e){return function(r,o,s){return n(r,o,s)&&e(r,o,s)}}function W(n){return function(t,r,o){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,o);var s=o.cache,i=s.get(t),c=s.get(r);if(i&&c)return i===r&&c===t;s.set(t,r),s.set(r,t);var a=n(t,r,o);return s.delete(t),s.delete(r),a}}function Ce(n){return kt(n).concat(Ct(n))}var Ot=Object.hasOwn||function(n,e){return Mt.call(n,e)};function x(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var Pt="__v",St="__o",bt="_owner",Me=Object.getOwnPropertyDescriptor,Oe=Object.keys;function At(n,e,t){var r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function qt(n,e){return x(n.getTime(),e.getTime())}function Tt(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function Lt(n,e){return n===e}function Pe(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var o=new Array(r),s=n.entries(),i,c,a=0;(i=s.next())&&!i.done;){for(var d=e.entries(),f=!1,u=0;(c=d.next())&&!c.done;){if(o[u]){u++;continue}var m=i.value,g=c.value;if(t.equals(m[0],g[0],a,u,n,e,t)&&t.equals(m[1],g[1],m[0],g[0],n,e,t)){f=o[u]=!0;break}u++}if(!f)return!1;a++}return!0}var Rt=x;function jt(n,e,t){var r=Oe(n),o=r.length;if(Oe(e).length!==o)return!1;for(;o-- >0;)if(!be(n,e,t,r[o]))return!1;return!0}function V(n,e,t){var r=Ce(n),o=r.length;if(Ce(e).length!==o)return!1;for(var s,i,c;o-- >0;)if(s=r[o],!be(n,e,t,s)||(i=Me(n,s),c=Me(e,s),(i||c)&&(!i||!c||i.configurable!==c.configurable||i.enumerable!==c.enumerable||i.writable!==c.writable)))return!1;return!0}function xt(n,e){return x(n.valueOf(),e.valueOf())}function It(n,e){return n.source===e.source&&n.flags===e.flags}function Se(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var o=new Array(r),s=n.values(),i,c;(i=s.next())&&!i.done;){for(var a=e.values(),d=!1,f=0;(c=a.next())&&!c.done;){if(!o[f]&&t.equals(i.value,c.value,i.value,c.value,n,e,t)){d=o[f]=!0;break}f++}if(!d)return!1}return!0}function Bt(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function Nt(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function be(n,e,t,r){return(r===bt||r===St||r===Pt)&&(n.$$typeof||e.$$typeof)?!0:Ot(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}var $t="[object Arguments]",Dt="[object Boolean]",Vt="[object Date]",Ut="[object Error]",Zt="[object Map]",Gt="[object Number]",Ft="[object Object]",zt="[object RegExp]",Wt="[object Set]",Ht="[object String]",Kt="[object URL]",Yt=Array.isArray,Ae=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qe=Object.assign,Jt=Object.prototype.toString.call.bind(Object.prototype.toString);function Xt(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areErrorsEqual,o=n.areFunctionsEqual,s=n.areMapsEqual,i=n.areNumbersEqual,c=n.areObjectsEqual,a=n.arePrimitiveWrappersEqual,d=n.areRegExpsEqual,f=n.areSetsEqual,u=n.areTypedArraysEqual,m=n.areUrlsEqual;return function(h,p,y){if(h===p)return!0;if(h==null||p==null)return!1;var v=typeof h;if(v!==typeof p)return!1;if(v!=="object")return v==="number"?i(h,p,y):v==="function"?o(h,p,y):!1;var w=h.constructor;if(w!==p.constructor)return!1;if(w===Object)return c(h,p,y);if(Yt(h))return e(h,p,y);if(Ae!=null&&Ae(h))return u(h,p,y);if(w===Date)return t(h,p,y);if(w===RegExp)return d(h,p,y);if(w===Map)return s(h,p,y);if(w===Set)return f(h,p,y);var E=Jt(h);return E===Vt?t(h,p,y):E===zt?d(h,p,y):E===Zt?s(h,p,y):E===Wt?f(h,p,y):E===Ft?typeof h.then!="function"&&typeof p.then!="function"&&c(h,p,y):E===Kt?m(h,p,y):E===Ut?r(h,p,y):E===$t?c(h,p,y):E===Dt||E===Gt||E===Ht?a(h,p,y):!1}}function Qt(n){var e=n.circular,t=n.createCustomConfig,r=n.strict,o={areArraysEqual:r?V:At,areDatesEqual:qt,areErrorsEqual:Tt,areFunctionsEqual:Lt,areMapsEqual:r?ke(Pe,V):Pe,areNumbersEqual:Rt,areObjectsEqual:r?V:jt,arePrimitiveWrappersEqual:xt,areRegExpsEqual:It,areSetsEqual:r?ke(Se,V):Se,areTypedArraysEqual:r?V:Bt,areUrlsEqual:Nt};if(t&&(o=qe({},o,t(o))),e){var s=W(o.areArraysEqual),i=W(o.areMapsEqual),c=W(o.areObjectsEqual),a=W(o.areSetsEqual);o=qe({},o,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:c,areSetsEqual:a})}return o}function er(n){return function(e,t,r,o,s,i,c){return n(e,t,c)}}function tr(n){var e=n.circular,t=n.comparator,r=n.createState,o=n.equals,s=n.strict;if(r)return function(a,d){var f=r(),u=f.cache,m=u===void 0?e?new WeakMap:void 0:u,g=f.meta;return t(a,d,{cache:m,equals:o,meta:g,strict:s})};if(e)return function(a,d){return t(a,d,{cache:new WeakMap,equals:o,meta:void 0,strict:s})};var i={cache:void 0,equals:o,meta:void 0,strict:s};return function(a,d){return t(a,d,i)}}var H=A();A({strict:!0}),A({circular:!0}),A({circular:!0,strict:!0}),A({createInternalComparator:function(){return x}}),A({strict:!0,createInternalComparator:function(){return x}}),A({circular:!0,createInternalComparator:function(){return x}}),A({circular:!0,createInternalComparator:function(){return x},strict:!0});function A(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,r=n.createInternalComparator,o=n.createState,s=n.strict,i=s===void 0?!1:s,c=Qt(n),a=Xt(c),d=r?r(a):er(a);return tr({circular:t,comparator:a,createState:o,equals:d,strict:i})}const Te=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ne=1,U=8;class oe{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");const o=r>>4;if(o!==ne)throw new Error(`Got v${o} data when expected v${ne}.`);const s=Te[r&15];if(!s)throw new Error("Unrecognized array type.");const[i]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new oe(c,i,s,e)}constructor(e,t=64,r=Float64Array,o){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=Te.indexOf(this.ArrayType),i=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-c%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,U,e),this.coords=new this.ArrayType(this.data,U+c+a,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(U+i+c+a),this.ids=new this.IndexArrayType(this.data,U,e),this.coords=new this.ArrayType(this.data,U+c+a,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ne<<4)+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return se(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:i,nodeSize:c}=this,a=[0,s.length-1,0],d=[];for(;a.length;){const f=a.pop()||0,u=a.pop()||0,m=a.pop()||0;if(u-m<=c){for(let y=m;y<=u;y++){const v=i[2*y],w=i[2*y+1];v>=e&&v<=r&&w>=t&&w<=o&&d.push(s[y])}continue}const g=m+u>>1,h=i[2*g],p=i[2*g+1];h>=e&&h<=r&&p>=t&&p<=o&&d.push(s[g]),(f===0?e<=h:t<=p)&&(a.push(m),a.push(g-1),a.push(1-f)),(f===0?r>=h:o>=p)&&(a.push(g+1),a.push(u),a.push(1-f))}return d}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:i}=this,c=[0,o.length-1,0],a=[],d=r*r;for(;c.length;){const f=c.pop()||0,u=c.pop()||0,m=c.pop()||0;if(u-m<=i){for(let y=m;y<=u;y++)Re(s[2*y],s[2*y+1],e,t)<=d&&a.push(o[y]);continue}const g=m+u>>1,h=s[2*g],p=s[2*g+1];Re(h,p,e,t)<=d&&a.push(o[g]),(f===0?e-r<=h:t-r<=p)&&(c.push(m),c.push(g-1),c.push(1-f)),(f===0?e+r>=h:t+r>=p)&&(c.push(g+1),c.push(u),c.push(1-f))}return a}}function se(n,e,t,r,o,s){if(o-r<=t)return;const i=r+o>>1;Le(n,e,i,r,o,s),se(n,e,t,r,i-1,1-s),se(n,e,t,i+1,o,1-s)}function Le(n,e,t,r,o,s){for(;o>r;){if(o-r>600){const d=o-r+1,f=t-r+1,u=Math.log(d),m=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*m*(d-m)/d)*(f-d/2<0?-1:1),h=Math.max(r,Math.floor(t-f*m/d+g)),p=Math.min(o,Math.floor(t+(d-f)*m/d+g));Le(n,e,t,h,p,s)}const i=e[2*t+s];let c=r,a=o;for(Z(n,e,r,t),e[2*o+s]>i&&Z(n,e,r,o);c<a;){for(Z(n,e,c,a),c++,a--;e[2*c+s]<i;)c++;for(;e[2*a+s]>i;)a--}e[2*r+s]===i?Z(n,e,r,a):(a++,Z(n,e,a,o)),a<=t&&(r=a+1),t<=a&&(o=a-1)}}function Z(n,e,t,r){ae(n,t,r),ae(e,2*t,2*r),ae(e,2*t+1,2*r+1)}function ae(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function Re(n,e,t,r){const o=n-t,s=e-r;return o*o+s*s}const rr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},je=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),I=2,q=3,ie=4,T=5,xe=6;class Ie{constructor(e){this.options=Object.assign(Object.create(rr),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:r,maxZoom:o}=this.options;t&&console.time("total time");const s=`prepare ${e.length} points`;t&&console.time(s),this.points=e;const i=[];for(let a=0;a<e.length;a++){const d=e[a];if(!d.geometry)continue;const[f,u]=d.geometry.coordinates,m=je(K(f)),g=je(Y(u));i.push(m,g,1/0,a,-1,1),this.options.reduce&&i.push(0)}let c=this.trees[o+1]=this._createTree(i);t&&console.timeEnd(s);for(let a=o;a>=r;a--){const d=+Date.now();c=this.trees[a]=this._createTree(this._cluster(c,a)),t&&console.log("z%d: %d clusters in %dms",a,c.numItems,+Date.now()-d)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const u=this.getClusters([r,o,180,i],t),m=this.getClusters([-180,o,s,i],t);return u.concat(m)}const c=this.trees[this._limitZoom(t)],a=c.range(K(r),Y(i),K(s),Y(o)),d=c.data,f=[];for(const u of a){const m=this.stride*u;f.push(d[m+T]>1?Be(d,m,this.clusterProps):this.points[d[m+q]])}return f}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(o);const i=s.data;if(t*this.stride>=i.length)throw new Error(o);const c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=i[t*this.stride],d=i[t*this.stride+1],f=s.within(a,d,c),u=[];for(const m of f){const g=m*this.stride;i[g+ie]===e&&u.push(i[g+T]>1?Be(i,g,this.clusterProps):this.points[i[g+q]])}if(u.length===0)throw new Error(o);return u}getLeaves(e,t,r){t=t||10,r=r||0;const o=[];return this._appendLeaves(o,e,t,r,0),o}getTile(e,t,r){const o=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:i,radius:c}=this.options,a=c/i,d=(r-a)/s,f=(r+1+a)/s,u={features:[]};return this._addTileFeatures(o.range((t-a)/s,d,(t+1+a)/s,f),o.data,t,r,s,u),t===0&&this._addTileFeatures(o.range(1-a/s,d,1,f),o.data,s,r,s,u),t===s-1&&this._addTileFeatures(o.range(0,d,a/s,f),o.data,-1,r,s,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,o,s){const i=this.getChildren(t);for(const c of i){const a=c.properties;if(a&&a.cluster?s+a.point_count<=o?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,r,o,s):s<o?s++:e.push(c),e.length===r)break}return s}_createTree(e){const t=new oe(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,o,s,i){for(const c of e){const a=c*this.stride,d=t[a+T]>1;let f,u,m;if(d)f=Ne(t,a,this.clusterProps),u=t[a],m=t[a+1];else{const p=this.points[t[a+q]];f=p.properties;const[y,v]=p.geometry.coordinates;u=K(y),m=Y(v)}const g={type:1,geometry:[[Math.round(this.options.extent*(u*s-r)),Math.round(this.options.extent*(m*s-o))]],tags:f};let h;d||this.options.generateId?h=t[a+q]:h=this.points[t[a+q]].id,h!==void 0&&(g.id=h),i.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:r,extent:o,reduce:s,minPoints:i}=this.options,c=r/(o*Math.pow(2,t)),a=e.data,d=[],f=this.stride;for(let u=0;u<a.length;u+=f){if(a[u+I]<=t)continue;a[u+I]=t;const m=a[u],g=a[u+1],h=e.within(a[u],a[u+1],c),p=a[u+T];let y=p;for(const v of h){const w=v*f;a[w+I]>t&&(y+=a[w+T])}if(y>p&&y>=i){let v=m*p,w=g*p,E,R=-1;const O=((u/f|0)<<5)+(t+1)+this.points.length;for(const S of h){const C=S*f;if(a[C+I]<=t)continue;a[C+I]=t;const j=a[C+T];v+=a[C]*j,w+=a[C+1]*j,a[C+ie]=O,s&&(E||(E=this._map(a,u,!0),R=this.clusterProps.length,this.clusterProps.push(E)),s(E,this._map(a,C)))}a[u+ie]=O,d.push(v/y,w/y,1/0,O,-1,y),s&&d.push(R)}else{for(let v=0;v<f;v++)d.push(a[u+v]);if(y>1)for(const v of h){const w=v*f;if(!(a[w+I]<=t)){a[w+I]=t;for(let E=0;E<f;E++)d.push(a[w+E])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+T]>1){const i=this.clusterProps[e[t+xe]];return r?Object.assign({},i):i}const o=this.points[e[t+q]].properties,s=this.options.map(o);return r&&s===o?Object.assign({},s):s}}function Be(n,e,t){return{type:"Feature",id:n[e+q],properties:Ne(n,e,t),geometry:{type:"Point",coordinates:[nr(n[e]),or(n[e+1])]}}}function Ne(n,e,t){const r=n[e+T],o=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=n[e+xe],i=s===-1?{}:Object.assign({},t[s]);return Object.assign(i,{cluster:!0,cluster_id:n[e+q],point_count:r,point_count_abbreviated:o})}function K(n){return n/360+.5}function Y(n){const e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function nr(n){return(n-.5)*360}function or(n){const e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function le(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}typeof SuppressedError=="function"&&SuppressedError;class k{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(Number.isFinite(e.position.lat)&&Number.isFinite(e.position.lng))return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class G{constructor({markers:e,position:t}){this.markers=[],e&&(this.markers=e),t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(k.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>k.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(k.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}function P(n,e="assertion failed"){if(n==null)throw Error(e)}const sr=(n,e,t,r)=>{const o=n.getBounds();P(o);const s=$e(o,e,r);return t.filter(i=>s.contains(k.getPosition(i)))},$e=(n,e,t)=>{const{northEast:r,southWest:o}=ir(n,e),s=lr({northEast:r,southWest:o},t);return cr(s,e)},ar=(n,e,t)=>{const r=$e(n,e,t),o=r.getNorthEast(),s=r.getSouthWest();return[s.lng(),s.lat(),o.lng(),o.lat()]},ir=(n,e)=>{const t=e.fromLatLngToDivPixel(n.getNorthEast()),r=e.fromLatLngToDivPixel(n.getSouthWest());return P(t),P(r),{northEast:t,southWest:r}},lr=({northEast:n,southWest:e},t)=>(n.x+=t,n.y-=t,e.x-=t,e.y+=t,{northEast:n,southWest:e}),cr=({northEast:n,southWest:e},t)=>{const r=t.fromDivPixelToLatLng(e),o=t.fromDivPixelToLatLng(n);return new google.maps.LatLngBounds(r,o)};class De{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return dr(e)}}class ur extends De{constructor(e){var{viewportPadding:t=60}=e,r=le(e,["viewportPadding"]);super(r),this.viewportPadding=60,this.viewportPadding=t}calculate({markers:e,map:t,mapCanvasProjection:r}){const o=t.getZoom();return P(o),o>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:sr(t,r,e,this.viewportPadding),map:t,mapCanvasProjection:r})}}}const dr=n=>n.map(t=>new G({position:k.getPosition(t),markers:[t]}));class pr extends De{constructor(e){var{maxZoom:t,radius:r=60}=e,o=le(e,["maxZoom","radius"]);super({maxZoom:t}),this.markers=[],this.clusters=[],this.state={zoom:-1},this.superCluster=new Ie(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){let t=!1,r=e.map.getZoom();P(r),r=Math.round(r);const o={zoom:r};if(!H(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const s=this.markers.map(i=>{const c=k.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[c.lng(),c.lat()]},properties:{marker:i}}});this.superCluster.load(s)}return t||(this.state.zoom<=this.maxZoom||o.zoom<=this.maxZoom)&&(t=!H(this.state,o)),this.state=o,e.markers.length===0?(this.clusters=[],{clusters:this.clusters,changed:t}):(t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t})}cluster({map:e}){const t=e.getZoom();return P(t),this.superCluster.getClusters([-180,-90,180,90],Math.round(t)).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new G({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:t,lng:e}});const o=r.marker;return new G({markers:[o],position:k.getPosition(o)})}}class fr extends ur{constructor(e){var{maxZoom:t,radius:r=60,viewportPadding:o=60}=e,s=le(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:t,viewportPadding:o}),this.markers=[],this.clusters=[],this.superCluster=new Ie(Object.assign({maxZoom:this.maxZoom,radius:r},s)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const t=this.getViewportState(e);let r=!H(this.state,t);if(!H(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const o=this.markers.map(s=>{const i=k.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[i.lng(),i.lat()]},properties:{marker:s}}});this.superCluster.load(o)}return r&&(this.clusters=this.cluster(e),this.state=t),{clusters:this.clusters,changed:r}}cluster(e){const t=this.getViewportState(e);return this.superCluster.getClusters(t.view,t.zoom).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new G({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:t,lng:e}});const o=r.marker;return new G({markers:[o],position:k.getPosition(o)})}getViewportState(e){const t=e.map.getZoom(),r=e.map.getBounds();return P(t),P(r),{zoom:Math.round(t),view:ar(r,e.mapCanvasProjection,this.viewportPadding)}}}class mr{constructor(e,t){this.markers={sum:e.length};const r=t.map(s=>s.count),o=r.reduce((s,i)=>s+i,0);this.clusters={count:t.length,markers:{mean:o/t.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class hr{render({count:e,position:t},r,o){const i=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,a=Number(google.maps.Marker.MAX_ZINDEX)+e;if(k.isAdvancedMarkerAvailable(o)){const u=new DOMParser().parseFromString(i,"image/svg+xml").documentElement;u.setAttribute("transform","translate(0 25)");const m={map:o,position:t,zIndex:a,title:c,content:u};return new google.maps.marker.AdvancedMarkerElement(m)}const d={position:t,zIndex:a,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(i)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function gr(n,e){for(let t in e.prototype)n.prototype[t]=e.prototype[t]}class ce{constructor(){gr(ce,google.maps.OverlayView)}}var L;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click",n.GMP_CLICK="gmp-click"})(L||(L={}));const yr=(n,e,t)=>{e.bounds&&t.fitBounds(e.bounds)};class vr extends ce{constructor({map:e,markers:t=[],algorithmOptions:r={},algorithm:o=new pr(r),renderer:s=new hr,onClusterClick:i=yr}){super(),this.map=null,this.idleListener=null,this.markers=[...t],this.clusters=[],this.algorithm=o,this.renderer=s,this.onClusterClick=i,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){const r=this.markers.indexOf(e);return r===-1?!1:(k.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,L.CLUSTERING_BEGIN,this);const{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const o=new Set;for(const i of t)i.markers.length==1&&o.add(i.markers[0]);const s=[];for(const i of this.clusters)i.marker!=null&&(i.markers.length==1?o.has(i.marker)||k.setMap(i.marker,null):s.push(i.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>s.forEach(i=>k.setMap(i,null)))}google.maps.event.trigger(this,L.CLUSTERING_END,this)}}onAdd(){const e=this.getMap();P(e),this.idleListener=e.addListener("idle",this.render.bind(this)),this.render()}onRemove(){this.idleListener&&google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>k.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new mr(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{if(r.markers.length===1)r.marker=r.markers[0];else if(r.marker=this.renderer.render(r,e,t),r.markers.forEach(o=>k.setMap(o,null)),this.onClusterClick){const o=k.isAdvancedMarker(r.marker)?L.GMP_CLICK:L.CLUSTER_CLICK;r.marker.addListener(o,s=>{google.maps.event.trigger(this,L.CLUSTER_CLICK,r),this.onClusterClick(s,r,t)})}k.setMap(r.marker,t)})}}const Ve=Object.values(L),wr=l.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:Ve,setup(n,{emit:e,expose:t,slots:r}){const o=l.ref(),s=l.inject(M,l.ref()),i=l.inject(b,l.ref());return l.provide(Q,o),l.watch(s,()=>{s.value&&(o.value=l.markRaw(new vr({map:s.value,algorithm:new fr(n.options.algorithmOptions??{}),...n.options})),Ve.forEach(c=>{var a;(a=o.value)==null||a.addListener(c,d=>e(c,d))}))},{immediate:!0}),l.onBeforeUnmount(()=>{var c;o.value&&((c=i.value)==null||c.event.clearInstanceListeners(o.value),o.value.clearMarkers(),o.value.setMap(null))}),t({markerCluster:o}),()=>{var c;return(c=r.default)==null?void 0:c.call(r)}}}),_r=l.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(n,{slots:e,emit:t,expose:r}){const o=l.ref(),s=l.computed(()=>{var a;return(a=e.default)==null?void 0:a.call(e).some(d=>d.type!==l.Comment)}),i=l.computed(()=>({...n.options,element:o.value})),c=N(z,[],i,t);return r({customMarker:c}),{customMarkerRef:o,customMarker:c,hasSlotContent:s}}}),Tr="",Er={key:0,class:"custom-marker-wrapper"};function kr(n,e,t,r,o,s){return n.hasSlotContent?(l.openBlock(),l.createElementBlock("div",Er,[l.createElementVNode("div",l.mergeProps({ref:"customMarkerRef",style:{cursor:n.$attrs.onClick?"pointer":void 0}},n.$attrs),[l.renderSlot(n.$slots,"default",{},void 0,!0)],16)])):l.createCommentVNode("v-if",!0)}const Cr=$(_r,[["render",kr],["__scopeId","data-v-4b2eafc1"]]),Mr=l.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(n){const e=l.ref(),t=l.inject(M,l.ref()),r=l.inject(b,l.ref());return l.watch([t,()=>n.options],([o,s],[i,c])=>{const a=!D(s,c)||t.value!==i;if(t.value&&r.value&&a){let d;if(s.data&&!(s.data instanceof r.value.MVCArray)){const f=r.value.LatLng,u=s.data.map(m=>m instanceof f||"location"in m&&(m.location instanceof f||m.location===null)?m:"location"in m?{...m,location:new f(m.location)}:new f(m));d={...s,data:u}}else d=s;e.value?e.value.setOptions(d):e.value=l.markRaw(new r.value.visualization.HeatmapLayer({...d,map:t.value}))}},{immediate:!0}),l.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});_.AdvancedMarker=lt,_.Circle=ft,_.CustomControl=yt,_.CustomMarker=Cr,_.GoogleMap=rt,_.HeatmapLayer=Mr,_.InfoWindow=Et,_.Marker=ct,_.MarkerCluster=wr,_.Polygon=dt,_.Polyline=ut,_.Rectangle=pt,_.apiSymbol=b,_.mapSymbol=M,_.mapTilesLoadedSymbol=ee,Object.defineProperty(_,Symbol.toStringTag,{value:"Module"})});
